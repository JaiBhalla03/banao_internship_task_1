import Head from 'next/head';
import Image from 'next/image';
import { Inter } from 'next/font/google';
import heroImage from '../image/hero.png';
import heroImageMobile from '../image/heroImage.png';
import LowerNavbar from '@/components/LowerNavbar';
import AllPost from '@/components/Allpost';
import RightContainer from '@/components/Rightcontainer';
import { MdModeEdit } from 'react-icons/md';
import React, {useState} from "react";
import PopupFormMobile from "@/components/PopupFormMobile";
import {BiArrowBack} from "react-icons/bi";
import {BsBoxArrowInRight} from "react-icons/bs";
import {AiOutlineUsergroupAdd} from "react-icons/ai";

const inter = Inter({ subsets: ['latin'] });

export default function Home() {
    const [showPopup, setShowPopup] = useState(false);
    const handlePopup = ()=>{
        setShowPopup(true);
    }
    const onClose = ()=>{
        setShowPopup(false);
    }
    const [toggle, setToggle] = useState(false);

    return (
        <div className="position-relative">
            <Head>
                <title>Create Next App</title>
                <meta name="description" content="Generated by create next app" />
                <meta name="viewport" content="width=device-width, initial-scale=1" />
                <link rel="icon" href="/favicon.ico" />
            </Head>
            <main className="position-relative">
                <div className="position-relative">
                    <Image
                        src={heroImage}
                        layout="responsive"
                        alt="lol"
                        className="hero-image-desktop"
                        contain
                    />
                    <Image
                        src={heroImageMobile}
                        layout="responsive"
                        alt="lol"
                        className="hero-image-mobile"
                        contain
                    />
                    <div className="position-absolute text-white custom-hero-navbar-mobile top-0">
                        <div className={'w-100 d-flex justify-content-between'}>
                            <div className={'d-flex flex-column justify-content-center'}>
                                <BiArrowBack size={25} className={'mx-2'}/>
                            </div>
                            <div>
                                {
                                    toggle?(
                                        <button type="button" onClick={()=>setToggle(!toggle)} className="m-2 d-flex justify-content-center btn btn-white border border-1 text-secondary">
                                            <div className={'d-flex gap-1'}>
                                                <div>
                                                    <BsBoxArrowInRight size={18}/>
                                                </div>
                                                <div>Leave Group</div>
                                            </div>
                                        </button>
                                    ):(
                                        <button type="button" onClick={()=>setToggle(!toggle)} className="m-2 d-flex justify-content-center btn btn-white border border-1 text-secondary">
                                            <AiOutlineUsergroupAdd />Join Group
                                        </button>
                                    )
                                }
                            </div>
                        </div>
                    </div>
                    <div className="position-absolute text-white custom-hero-position">
                        <h1 className="fw-bold">Computer Engineering</h1>
                        <p>142,765 Computer Engineers follow this</p>
                    </div>
                </div>
                <div className="custom-padding">
                    <LowerNavbar />
                    <div className="d-flex pt-4">
                        <AllPost />
                        <RightContainer />
                    </div>
                </div>
            </main>
            <div className={'position-fixed bg-gradient '} onClick={handlePopup}>
                <MdModeEdit size={30} color={'text-white'}/>
            </div>
            {
                showPopup && (
                    <PopupFormMobile onClose={onClose}/>
                )
            }
        </div>
    );
}
